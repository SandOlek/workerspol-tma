<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>WorkersPol TMA</title>
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>

    <script>
      !function(f,b,e,v,n,t,s)
      {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
      n.callMethod.apply(n,arguments):n.queue.push(arguments)};
      if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
      n.queue=[];t=b.createElement(e);t.async=!0;
      t.src=v;s=b.getElementsByTagName(e)[0];
      s.parentNode.insertBefore(t,s)}(window, document,'script',
      'https://connect.facebook.net/en_US/fbevents.js');
      fbq('init', '800589358963665'); 
      fbq('track', 'PageView');
    </script>

    <style>
        :root {
            --bg-dark: #0a1f2c;      /* –ì–ª–∏–±–æ–∫–∞ –º–æ—Ä—Å—å–∫–∞ —Ö–≤–∏–ª—è */
            --bg-gradient: radial-gradient(circle at top, #143e56 0%, #0a1f2c 100%);
            --accent: #2da1c1;       /* –°–≤—ñ—Ç–ª–∞ –º–æ—Ä—Å—å–∫–∞ —Ö–≤–∏–ª—è */
            --card-bg: rgba(240, 247, 249, 0.95);
            --text-main: #ffffff;
            --text-dark: #1a3a4a;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: var(--bg-gradient);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease;
        }

        /* –î–∏–Ω–∞–º—ñ—á–Ω–∏–π —Å–ª–æ–≥–∞–Ω */
        .slogan {
            text-align: center;
            margin: 30px 0;
            font-weight: bold;
            transition: all 0.4s ease;
        }
        .level-1 .slogan { font-size: 26px; margin-top: 50px; }
        .level-2 .slogan, .level-3 .slogan { font-size: 16px; margin: 10px 0; opacity: 0.8; font-weight: 300; }

        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 12px 0;
            border: 1px solid var(--accent);
            border-radius: 14px;
            background: rgba(255, 255, 255, 0.08);
            color: white;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            backdrop-filter: blur(10px);
            transition: transform 0.2s, background 0.2s;
            box-sizing: border-box;
        }
        .btn:active { transform: scale(0.97); background: rgba(255, 255, 255, 0.15); }

        #recruitment-header {
            text-align: center;
            margin: 20px 0;
        }
        .logo-text { font-size: 22px; color: var(--accent); font-weight: bold; letter-spacing: 1px; }

        /* –ù–∞–≤—ñ–≥–∞—Ü—ñ—è */
        .nav-bar {
            margin-top: auto;
            display: flex;
            gap: 10px;
            padding-bottom: 20px;
        }
        .btn-nav {
            flex: 1;
            padding: 14px;
            background: var(--accent);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            font-size: 14px;
        }
        .btn-exit { background: #cf352e; }

        .hidden { display: none !important; }

        .card {
            background: var(--card-bg);
            color: var(--text-dark);
            padding: 20px;
            border-radius: 18px;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
        }
    </style>
</head>
<body id="body-app" class="level-1">

    <div class="slogan" id="slogan-text">WorkersPol ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –ª—É—á—à–∏—Ö</div>

    <div id="step-1">
        <button class="btn" onclick="setLang('ru')">–†—É—Å—Å–∫–∏–π</button>
        <button class="btn" onclick="setLang('uk')">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</button>
        <button class="btn" onclick="setLang('pl')">Polski</button>
        <button class="btn" onclick="setLang('en')">English</button>
    </div>

    <div id="step-2" class="hidden">
        <div id="recruitment-header">
            <div class="logo-text">Profesjonalny kierowca</div>
        </div>
        <button id="btn-vacancies" class="btn" onclick="goToLevel(3)"></button>
        <button id="btn-adr" class="btn" onclick="showPartner('ADR')"></button>
        <button id="btn-code95" class="btn" onclick="showPartner('95')"></button>
    </div>

    <div id="step-3" class="hidden">
        <div class="card">
            <h3 id="detail-title"></h3>
            <p id="detail-desc">...</p>
            <button id="btn-ask" class="btn" style="color: #1a3a4a; border-color: #1a3a4a;" onclick="askAI()"></button>
        </div>
    </div>

    <div id="nav-container" class="nav-bar hidden">
        <button id="nav-back" class="btn-nav hidden" onclick="goBack()"></button>
        <button id="nav-exit" class="btn-nav btn-exit hidden" onclick="goHome()"></button>
    </div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand();

        let currentLevel = 1;
        let selectedLang = 'ru';

        const translations = {
            ru: {
                slogan: "WorkersPol ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º –ª—É—á—à–∏—Ö",
                vacancies: "üöö –°–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π",
                adr: "üõ°Ô∏è –ö—É—Ä—Å—ã ADR",
                code95: "üìú –ö–æ–¥-95 (–ü–∞—Ä—Ç–Ω–µ—Ä—ã)",
                ask: "üí¨ –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å AI",
                loading: "–ó–∞–≥—Ä—É–∑–∫–∞ –≤–∞–∫–∞–Ω—Å–∏–π...",
                back: "‚Üê –ù–∞–∑–∞–¥",
                exit: "–í—ã—Ö–æ–¥"
            },
            uk: {
                slogan: "WorkersPol ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î–º–æ –Ω–∞–π–∫—Ä–∞—â–∏—Ö",
                vacancies: "üöö –°–ø–∏—Å–æ–∫ –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö –≤–∞–∫–∞–Ω—Å—ñ–π",
                adr: "üõ°Ô∏è –ö—É—Ä—Å–∏ ADR",
                code95: "üìú –ö–æ–¥-95 (–ü–∞—Ä—Ç–Ω–µ—Ä–∏)",
                ask: "üí¨ –ó–∞–¥–∞—Ç–∏ –ø–∏—Ç–∞–Ω–Ω—è AI",
                loading: "–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–∞–∫–∞–Ω—Å—ñ–π...",
                back: "‚Üê –ù–∞–∑–∞–¥",
                exit: "–í–∏—Ö—ñ–¥"
            },
            pl: {
                slogan: "WorkersPol ‚Äî reprezentujemy najlepszych",
                vacancies: "üöö Lista aktualnych ofert pracy",
                adr: "üõ°Ô∏è Kursy ADR",
                code95: "üìú Kod-95 (Partnerzy)",
                ask: "üí¨ Zadaj pytanie AI",
                loading: "≈Åadowanie ofert...",
                back: "‚Üê Powr√≥t",
                exit: "Wyj≈õcie"
            },
            en: {
                slogan: "WorkersPol ‚Äî representing the best",
                vacancies: "üöö List of current vacancies",
                adr: "üõ°Ô∏è ADR Courses",
                code95: "üìú Code-95 (Partners)",
                ask: "üí¨ Ask AI a question",
                loading: "Loading vacancies...",
                back: "‚Üê Back",
                exit: "Exit"
            }
        };

        function setLang(lang) {
            selectedLang = lang;
            const data = translations[lang];
            
            // –û–Ω–æ–≤–ª—é—î–º–æ –≤—Å—ñ —Ç–µ–∫—Å—Ç–∏
            document.getElementById('slogan-text').innerText = data.slogan;
            document.getElementById('btn-vacancies').innerText = data.vacancies;
            document.getElementById('btn-adr').innerText = data.adr;
            document.getElementById('btn-code95').innerText = data.code95;
            document.getElementById('btn-ask').innerText = data.ask;
            document.getElementById('nav-back').innerText = data.back;
            document.getElementById('nav-exit').innerText = data.exit;
            document.getElementById('detail-title').innerText = data.loading;

            localStorage.setItem('driver_lang', lang);
            fbq('track', 'Lead', { language: lang });
            goToLevel(2);
        }

        function goToLevel(level) {
            currentLevel = level;
            document.getElementById('body-app').className = 'level-' + level;
            
            document.getElementById('step-1').classList.toggle('hidden', level !== 1);
            document.getElementById('step-2').classList.toggle('hidden', level !== 2);
            document.getElementById('step-3').classList.toggle('hidden', level !== 3);
            
            document.getElementById('nav-container').classList.toggle('hidden', level === 1);
            document.getElementById('nav-exit').classList.toggle('hidden', level !== 2);
            document.getElementById('nav-back').classList.toggle('hidden', level < 3);
        }

        function goBack() { if (currentLevel > 1) goToLevel(currentLevel - 1); }
        function goHome() { goToLevel(1); }
        
        function showPartner(type) {
            const data = translations[selectedLang];
            document.getElementById('detail-title').innerText = type === 'ADR' ? data.adr : data.code95;
            goToLevel(3);
        }

        function askAI() {
            tg.sendData(JSON.stringify({action: "ask_ai", lang: selectedLang}));
        }
    </script>
</body>
</html>
